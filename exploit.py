import socket
import struct
import telnetlib

def p32(num):
    return struct.pack('<I', num)

def p64(num):
    return struct.pack('<Q', num)

def p32s(*num):
    data = b''
    for num in nums:
        data += p32(num)
    return data

def p64s(*num):
    data = b''
    for num in nums:
        data += p64(num)
    return data

def create_connected_socket(ip, port):
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.connect((ip, port))
    return sock

def connect_to_shell(sock):
    tel = telnetlib.Telnet()
    tel.sock = sock
    tel.interact()

def recv_until(sock, delimiter_bytes):
    received_data = b''
    while not received_data.endswith(delimiter_bytes):
        received_data = sock.recv(1)
    return received_data

target_ip = '127.1'
# target_ip = socket.gethostbyname('www.google.com')
target_port = 12345
